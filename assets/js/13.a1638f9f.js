(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{385:function(s,t,a){"use strict";a.r(t);var e=a(46),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"访问日志输出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问日志输出"}},[s._v("#")]),s._v(" 访问日志输出")]),s._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("OutLog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 访问日志输出")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" es7 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# es7,es6,syslog,file  注意 windows 不支持 syslog")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("loglevel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" info\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("eslog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("loglevel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" info\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dsn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("9200")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" goblin\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("filelog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" text "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## json 或者 text")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dsn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" access.log\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("syslog")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" text\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("dsn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("514")]),s._v("\n")])])]),a("h2",{attrs:{id:"type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#type"}},[s._v("#")]),s._v(" type")]),s._v(" "),a("p",[s._v("type 目前只支持 [ es7、es6、syslog、file ]")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("注意 windows 不支持 syslog")])]),s._v(" "),a("h3",{attrs:{id:"loglevel"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loglevel"}},[s._v("#")]),s._v(" loglevel")]),s._v(" "),a("p",[s._v('输出的日志等级 [ "info", "warn", "warning", "error", "fatal" ]\n目前只有 '),a("code",[s._v("info")]),s._v("、"),a("code",[s._v("warn")]),s._v("、"),a("code",[s._v("warning")]),s._v(" 有效\ninfo 输出所有日志"),a("br"),s._v(" "),a("code",[s._v("warn")]),s._v("、"),a("code",[s._v("warning")]),s._v("  输出 post 日志\n其余不输出日志")]),s._v(" "),a("h2",{attrs:{id:"eslog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#eslog"}},[s._v("#")]),s._v(" eslog")]),s._v(" "),a("p",[s._v("输出至 es")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("eslog:\n    loglevel: info\n    dsn: http://127.0.0.1:9200\n    index: goblin\n    host: localhost\n")])])]),a("h3",{attrs:{id:"loglevel-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loglevel-2"}},[s._v("#")]),s._v(" loglevel")]),s._v(" "),a("p",[s._v("es 输出的日志等级")]),s._v(" "),a("h3",{attrs:{id:"dsn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dsn"}},[s._v("#")]),s._v(" dsn")]),s._v(" "),a("p",[s._v("es 的连接地址")]),s._v(" "),a("h3",{attrs:{id:"index"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#index"}},[s._v("#")]),s._v(" index")]),s._v(" "),a("p",[s._v("es 索引名称")]),s._v(" "),a("h3",{attrs:{id:"host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[s._v("#")]),s._v(" host")]),s._v(" "),a("p",[s._v("输出日志的主机名称")]),s._v(" "),a("h2",{attrs:{id:"filelog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#filelog"}},[s._v("#")]),s._v(" filelog")]),s._v(" "),a("p",[s._v("输出至 文件")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  filelog:\n    mode: text ## json 或者 text\n    dsn: access.log\n")])])]),a("h3",{attrs:{id:"mode"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode"}},[s._v("#")]),s._v(" mode")]),s._v(" "),a("p",[s._v("输出的日志格式[ text、json ]\n默认为 text")]),s._v(" "),a("h3",{attrs:{id:"dsn-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dsn-2"}},[s._v("#")]),s._v(" dsn")]),s._v(" "),a("p",[s._v("日志的文件名")]),s._v(" "),a("h2",{attrs:{id:"syslog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#syslog"}},[s._v("#")]),s._v(" syslog")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("  syslog:\n    mode: text\n    dsn: 127.0.0.1:514\n")])])]),a("h3",{attrs:{id:"mode-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode-2"}},[s._v("#")]),s._v(" mode")]),s._v(" "),a("p",[s._v("输出的日志格式 [ text、json ]\n默认为 text")]),s._v(" "),a("h3",{attrs:{id:"dsn-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dsn-3"}},[s._v("#")]),s._v(" dsn")]),s._v(" "),a("p",[s._v("syslog 链接信息")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("WARNING")]),s._v(" "),a("p",[s._v("注意 windows 不支持 syslog，目前 syslog 只支持 udp 协议")])])])}),[],!1,null,null,null);t.default=n.exports}}]);